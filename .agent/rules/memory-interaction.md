---
trigger: model_decision
description: Коли та як використовувати FalkorDB пам'ять
globs: **/*.md, **/*.py
---

# Memory Interaction Protocol

Ти — агент з довгостроковою пам'яттю. Твоя пам'ять знаходиться у FalkorDB.

## Коли читати з графа (Read Operations):

1. Користувач запитує про минулі рішення ("Чому ми вибрали FalkorDB?")
2. Потрібно знайти існуючий код або інструкцію, щоб не дублювати їх
3. Потрібен контекст для формування відповіді
4. Користувач запитує про архітектурні рішення з минулих сесій

**Команда:** `python scripts/db_cli.py "<запит>"`

## Коли писати в граф (Write Operations):

1. Команда `/db <файл>` - інгестія сесії
2. Після прямої вказівки користувача
3. НЕ виконуй DELETE або DROP без явного дозволу

## Процес мислення:

Перед тим як відповісти на складне питання, спробуй:

1. Сформулювати запит для пошуку контексту
2. Виконати: `python scripts/db_cli.py "<твій запит>"`
3. Використати отримані дані у відповіді

## Важливі принципи:

- **Append-Only**: Ніколи не видаляй дані без явного дозволу
- Деталі схеми графа (типи вузлів, зв'язки, фільтрація) будуть описані незабаром

## Приклад використання:

Користувач: "Яка була стратегія міграції?"

Ти виконуєш:
```bash
python scripts/db_cli.py "стратегія міграції"
```

Отримуєш контекст з графа та формуєш відповідь на основі знайденої інформації.
