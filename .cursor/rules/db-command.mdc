---
description: Команда /db для роботи з FalkorDB пам'яттю
globs: **/*.py, **/*.md
---

# Команда /db

Коли користувач використовує команду `/db`:

1. **Якщо наступний аргумент - шлях до файлу:**
   - Виконай: `python scripts/db_cli.py <шлях_до_файлу>`
   - Це запустить інгестію сесії в граф

2. **Якщо наступний аргумент - текстовий запит:**
   - Виконай: `python scripts/db_cli.py "<запит>"`
   - Це виконає пошук в графі знань

Не намагайся писати Cypher вручну - використовуй скрипт db_cli.py.

## Приклади використання

```bash
# Інгестія файлу сесії
python scripts/db_cli.py saved_sessions/session_2026-01-20_falkordb_planning.md

# Пошук в графі
python scripts/db_cli.py "Яка була стратегія міграції?"
```

## Важливо

- Скрипт автоматично розпізнає, чи це файл чи запит
- Для інгестії потрібен запущений QPE Service (http://localhost:8001)
- Для пошуку також потрібен QPE Service для обробки запиту

## Формат файлів сесій

Парсер підтримує два формати дати:
- Старий формат: `**Дата:** 20 січня 2026` (без часу)
- Новий формат: `**Дата:** 20 січня 2026, 14:30:00` (з точним часом)

Обидва формати коректно парсяться та зберігаються в граф. Новий формат дозволяє відстежувати хронологію кількох сесій в день.
